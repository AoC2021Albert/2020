#sed 's/^/"/ ; s/$/",/ ; s/Tile // ; s/:",/":[/ ; s/"",/],/ ; s/\./0/g ; s/#/1/g ' < advent-20.raw > advent-20.py
m={
    "1217":[
"0100001001",
"1010000111",
"1101000010",
"1100011100",
"1110010010",
"0100011000",
"1010011000",
"1000101100",
"1001100001",
"0110100100",
],
"2357":[
"0000010101",
"1000010001",
"0000000100",
"0010000011",
"0000000000",
"1010100011",
"1010000111",
"0001000010",
"1011000000",
"1001111111",
],
"1399":[
"0110111111",
"1100000001",
"1011000100",
"0000001001",
"0000001000",
"0100000000",
"0000101000",
"0000101000",
"1100010110",
"1111011111",
],
"3733":[
"1001010101",
"1000111001",
"1001011110",
"0001000000",
"1000001001",
"0001010000",
"1100001001",
"1100010000",
"0100001000",
"1010001001",
],
"2503":[
"1001001111",
"0000001011",
"1000100011",
"0000000000",
"0101110101",
"0000000100",
"0000010001",
"1000001101",
"1000000000",
"1001011010",
],
"1511":[
"1010110110",
"1111100101",
"0100000000",
"1110010100",
"1001011011",
"0100001011",
"1000010000",
"1000011000",
"0000000001",
"1001100011",
],
"3583":[
"1101100101",
"0010111100",
"1000000111",
"1010011011",
"1000000011",
"1010010100",
"0101110010",
"0100000100",
"1000000101",
"1011000001",
],
"1637":[
"1011100101",
"1001000001",
"0000010001",
"0000100001",
"0001000010",
"0000100001",
"0000010100",
"1011000001",
"1001000100",
"1100101111",
],
"1453":[
"0110100110",
"0000000000",
"1110100101",
"1000111000",
"0011110001",
"1010000000",
"1000100001",
"1001001100",
"1000000001",
"0000001110",
],
"1153":[
"1000100110",
"1000000001",
"0010100010",
"0100001110",
"1010110001",
"1000010011",
"1100000011",
"0010000000",
"1010000001",
"1001101100",
],
"3701":[
"0011101010",
"0001100001",
"1001100001",
"1000000000",
"1101110001",
"1001111011",
"0000110000",
"1010100001",
"0000000000",
"0111110000",
],
"2179":[
"0101000011",
"0010011011",
"1100100110",
"1110100000",
"0010011000",
"1000100011",
"0000001001",
"1100010010",
"0010101100",
"1011100001",
],
"1999":[
"0100010111",
"0000000000",
"1000000100",
"0100000010",
"0101100000",
"1110001000",
"0000000110",
"1000000000",
"0011000001",
"1001101101",
],
"2333":[
"0101000010",
"0010000000",
"1001000100",
"0000000100",
"0000100010",
"0001011010",
"0100000000",
"1010000101",
"1100000000",
"1001101000",
],
"1733":[
"0111100101",
"0100101001",
"1001100001",
"1110011101",
"0111010111",
"1010110001",
"0000100001",
"1000010100",
"0000100101",
"0000010000",
],
"3217":[
"1111101101",
"1000000101",
"0000000001",
"1010000011",
"1100000010",
"1001010001",
"0110000000",
"1001000001",
"1010100100",
"0001010001",
],
"1471":[
"0001000001",
"1000100010",
"1101000010",
"1011000011",
"1010110000",
"0011100011",
"1010001100",
"0100100011",
"1011000011",
"0010010011",
],
"2089":[
"1110110000",
"0011000111",
"0000000010",
"1000000001",
"0001011011",
"0000001100",
"1110001000",
"1000000001",
"0010000000",
"0000010110",
],
"2909":[
"0000011110",
"0100100111",
"0110010110",
"0000000010",
"1000010000",
"1101011100",
"0110010011",
"0000000100",
"1000000000",
"1000011111",
],
"3433":[
"1010010000",
"1000000001",
"1010101010",
"0111011000",
"1000010101",
"0100001011",
"0100001100",
"0100000001",
"1000001000",
"0111000010",
],
"3049":[
"0001000000",
"1000110011",
"1100000101",
"1010000101",
"0001000011",
"0000001001",
"1000000011",
"0000110001",
"0101011000",
"0111111000",
],
"2143":[
"0111111000",
"0110100111",
"1101100101",
"0100001000",
"0101100010",
"1000100001",
"1100010000",
"1100110100",
"1000011000",
"1101000101",
],
"3299":[
"1001101100",
"0000000000",
"1001010000",
"0000000110",
"0000000000",
"0010001100",
"0100001000",
"1001100001",
"1000100001",
"0101011111",
],
"2803":[
"0010000111",
"0010110100",
"0000001110",
"0000010000",
"1001101000",
"0110001001",
"1000010000",
"0001000000",
"0000001011",
"0011100101",
],
"2311":[
"1001100001",
"0000010000",
"0100110011",
"1001110000",
"1001001010",
"0000000000",
"0010000101",
"1001101011",
"0111010100",
"0011011010",
],
"1123":[
"1011110001",
"0000001111",
"0010010001",
"0010100111",
"1110001001",
"0101000001",
"0000010110",
"1010100101",
"0000000011",
"0001100111",
],
"1777":[
"0011111110",
"1100000000",
"0001001011",
"0000000011",
"1100000011",
"1100001101",
"1000000100",
"0100010010",
"1001011110",
"0011100010",
],
"1321":[
"0111000110",
"1000000010",
"1110000100",
"0100110100",
"1010011011",
"1110100111",
"1000010001",
"1010101111",
"0000000001",
"0110000001",
],
"2287":[
"0000010010",
"0100111111",
"0010100000",
"1000000001",
"1001010011",
"0100001010",
"1010100001",
"0000100000",
"0010000011",
"0101010101",
],
"3727":[
"0101010011",
"1101001010",
"1100000011",
"1100001101",
"0000010011",
"1000100001",
"0100001000",
"0000101110",
"0010000001",
"0111101101",
],
"1607":[
"0000000101",
"1000001000",
"1000001010",
"0100101101",
"1010100000",
"1000001001",
"0000011001",
"0000011101",
"0000100000",
"1001001111",
],
"1327":[
"0110001010",
"1110001000",
"1100000001",
"0000000111",
"1010000001",
"1001000001",
"0000010101",
"1000000001",
"1010010100",
"1010011011",
],
"3889":[
"0101010010",
"0011000101",
"1000100011",
"1000101011",
"1010000000",
"1110000001",
"0000000011",
"1001000010",
"0000010001",
"1111000100",
],
"1447":[
"0011101101",
"0001010000",
"0110000001",
"0000011000",
"0000001000",
"1001010101",
"1010101101",
"1001000101",
"1110011000",
"1011010001",
],
"3767":[
"0100001000",
"0000000000",
"1100000000",
"0100000001",
"0000010100",
"0100000100",
"1000000101",
"1000001011",
"0000011101",
"0001011110",
],
"2957":[
"1101000011",
"1010000010",
"0100001000",
"1000010101",
"0000001000",
"1011001000",
"0000000001",
"0010110011",
"1110000000",
"0100010000",
],
"3911":[
"0010110110",
"1000100010",
"0101011111",
"1011100101",
"1001000100",
"1110010100",
"0001010000",
"1011000110",
"0000100000",
"1000101101",
],
"2683":[
"1011111010",
"1001001100",
"0000001111",
"1001100100",
"1011010001",
"1000000001",
"1110001001",
"1001000000",
"1011100001",
"0110101010",
],
"2267":[
"1010010100",
"0001010010",
"1001100100",
"1101000101",
"0010000001",
"1100001000",
"1000000000",
"1001100000",
"0001001000",
"1100111011",
],
"1709":[
"1001000100",
"0101100101",
"1000111001",
"1101101001",
"1101000000",
"1001001001",
"0011000100",
"1000011001",
"1000001111",
"1111111000",
],
"2347":[
"1101100001",
"1000000001",
"0000101000",
"0010110111",
"1100001101",
"0001010100",
"1001000000",
"0100000001",
"0000100000",
"0111011010",
],
"1051":[
"1110100011",
"1010000000",
"1000000011",
"0000000000",
"1110011100",
"0011100100",
"1001000100",
"0010000000",
"0000110010",
"0101011011",
],
"2903":[
"0001100000",
"1001010000",
"0001000000",
"1000100101",
"1001000000",
"1000100011",
"1100000000",
"1010000000",
"1000001100",
"0001111101",
],
"1619":[
"1001110101",
"1010000001",
"1000000011",
"0000001001",
"0110000001",
"1000001001",
"1011000101",
"1001100001",
"0100001010",
"0111101110",
],
"3203":[
"0001011010",
"1011100000",
"0100100101",
"1010011000",
"0000010101",
"0000000000",
"0110010001",
"0000011010",
"0000000001",
"0111110110",
],
"2269":[
"0110100010",
"1000011010",
"1011010110",
"1000001001",
"0000000000",
"1100000011",
"0000011010",
"1000000000",
"0000100000",
"0000011010",
],
"2027":[
"1001111111",
"1000110001",
"0001001011",
"1000100000",
"1000010000",
"1100010011",
"1000101001",
"1110011100",
"1010011111",
"1001001010",
],
"1973":[
"1101011001",
"0101010001",
"1000100001",
"1000000100",
"1000001100",
"0001000011",
"0100000100",
"1011000001",
"0000000011",
"0110100000",
],
"3559":[
"0111111011",
"0000000100",
"0011000011",
"1010101101",
"1001010101",
"0010101000",
"0101001001",
"1000101000",
"0101001001",
"1100001111",
],
"3319":[
"1000100000",
"0100110100",
"1101000001",
"0000000000",
"0011110000",
"0110010000",
"0001100000",
"1001000100",
"1110010000",
"1010011111",
],
"3631":[
"1100001001",
"0100111101",
"1101000101",
"1000010010",
"0000000000",
"0011000001",
"1001000101",
"0000000101",
"1011001010",
"0000011110",
],
"2377":[
"0000010001",
"1000010000",
"0010100000",
"0000010010",
"0000000011",
"1110000011",
"1000000000",
"0000100011",
"0000000001",
"0110101010",
],
"3331":[
"1001001010",
"1100000001",
"0000110000",
"0001110101",
"0111011010",
"1110000001",
"1010110000",
"1010001000",
"0001000001",
"0011111101",
],
"2473":[
"1011100001",
"1000101010",
"1000110001",
"0100100110",
"0000000010",
"0101010001",
"1010100101",
"0110000000",
"0100000001",
"1101001110",
],
"1039":[
"1100101101",
"1000000100",
"1110000101",
"0010010000",
"0110000000",
"1111011001",
"1100100100",
"0000010000",
"1100001010",
"1000001101",
],
"2111":[
"0100100010",
"1011010000",
"0111100101",
"1001010101",
"0010001000",
"0010101000",
"0000001010",
"1000001001",
"0011001001",
"1111000011",
],
"2039":[
"1011110111",
"0010101100",
"0010010000",
"1110000000",
"1010000001",
"0000000001",
"0100000001",
"1010001010",
"1111000001",
"1111110100",
],
"3391":[
"0111101010",
"1010001101",
"0101000001",
"0001100010",
"0100100100",
"0010011000",
"0000010100",
"1000010000",
"0100100100",
"1101100111",
],
"1913":[
"0101111111",
"1010010011",
"0110100000",
"1010000001",
"0000110000",
"1110010000",
"0000000011",
"1000001100",
"0100110001",
"1100001000",
],
"2693":[
"1001101001",
"0100001011",
"0100011001",
"0001100000",
"1110010011",
"1100100001",
"0001000001",
"1100000000",
"1111000110",
"1000101011",
],
"1033":[
"1111101000",
"1000000001",
"1010001010",
"0111000000",
"0011000010",
"1000111101",
"0000100101",
"0000011000",
"0000010011",
"1100110100",
],
"2273":[
"1011000011",
"0000000000",
"1001100010",
"1110000000",
"0010101011",
"1100000001",
"1100110010",
"0000000000",
"0000000001",
"0110011011",
],
"1049":[
"1110110000",
"1111000010",
"0001010000",
"0000110001",
"1000100001",
"1100011100",
"1100100000",
"1111000000",
"1100110001",
"0000011001",
],
"1787":[
"0101011011",
"1110100001",
"1000111010",
"0010000100",
"0000000001",
"0000101000",
"0110000010",
"0000011101",
"0111001000",
"0110111100",
],
"2689":[
"0000000111",
"0010010000",
"1000000101",
"1010110001",
"1010101000",
"0110000000",
"0010010100",
"0001100001",
"1000000101",
"0101111110",
],
"1933":[
"1111110100",
"0010100010",
"0001000101",
"1110100001",
"0010000010",
"1001111000",
"1100000000",
"0011100001",
"0000100000",
"1111101111",
],
"1823":[
"1110100101",
"0000000000",
"0101000100",
"0010011010",
"0100100110",
"1010100001",
"0100100001",
"0000000011",
"1110101000",
"1000000010",
],
"1439":[
"0100000101",
"0001010001",
"0001010000",
"0001100100",
"1000100100",
"0001010001",
"0100100001",
"1000111001",
"1001111100",
"1010100011",
],
"1657":[
"0111101101",
"1000010000",
"0100100000",
"0011001000",
"1100100001",
"0100000010",
"1011100010",
"0000000001",
"1011110000",
"1100001101",
],
"3517":[
"1101011010",
"1001000011",
"1100000011",
"1000100100",
"0110011000",
"0000000010",
"0010001101",
"1010010000",
"1100001101",
"1111001000",
],
"3943":[
"0101001101",
"1000000001",
"1001000000",
"1000000011",
"1100100000",
"1111000101",
"0111000010",
"1110000000",
"0110000000",
"0010001111",
],
"2801":[
"1101101110",
"1101110100",
"1101000000",
"0011100000",
"1101001000",
"1000000100",
"1011000001",
"1101010001",
"0000100001",
"0011110010",
],
"2411":[
"1010101000",
"0111101011",
"0000100101",
"0000000011",
"0000100100",
"1000110010",
"1010000001",
"1000001000",
"0100001001",
"0010000010",
],
"3907":[
"1000001001",
"0110010000",
"1100100000",
"0000010000",
"0100101110",
"1000000111",
"0000001000",
"1100000001",
"0000000011",
"1111011010",
],
"2819":[
"0010110101",
"0010010001",
"0001000101",
"0010001000",
"1000011010",
"1011010000",
"0000000001",
"1000100111",
"1110100000",
"0000001100",
],
"3307":[
"0101100110",
"1001000101",
"1010010000",
"1001000010",
"0000100010",
"1010010001",
"0001000001",
"0010001100",
"1010001001",
"1010000011",
],
"3313":[
"1011000110",
"0000000111",
"0000100100",
"1011101101",
"1110101001",
"0000110000",
"0000101101",
"1001011001",
"0010111010",
"1010101011",
],
"3037":[
"0111010000",
"1001001101",
"0001111000",
"1011001000",
"1000100100",
"0001000001",
"0000000010",
"1110110100",
"1011110010",
"1110010110",
],
"2053":[
"1111010000",
"1010011001",
"0100011101",
"1011110000",
"1000000000",
"1000001001",
"1010100000",
"0010100010",
"1001010001",
"0010010110",
],
"3769":[
"0000100110",
"1001000000",
"1000111001",
"1001100001",
"0100000001",
"1000000000",
"0100100110",
"1010100101",
"1010000000",
"1001100100",
],
"1759":[
"0001100001",
"0000000000",
"1110000001",
"1100000000",
"0000010000",
"1001100100",
"0000001010",
"1110011001",
"0100001001",
"0000001010",
],
"1229":[
"1011010100",
"1001000111",
"0001000001",
"0100001001",
"1011001101",
"1001000111",
"0000000000",
"0000011100",
"0010010011",
"1101000011",
],
"3821":[
"0110111101",
"0000001111",
"0000001010",
"1000010111",
"0101100101",
"0000000000",
"0001010001",
"0010001100",
"1101010011",
"1111000111",
],
"1319":[
"1011001011",
"0001001100",
"0010100000",
"0100100001",
"1001010100",
"1000001001",
"1010100000",
"0001110000",
"1101100010",
"0101101100",
],
"3167":[
"1010000011",
"0100011101",
"0100011010",
"1110010001",
"0000110011",
"0000010011",
"0010001011",
"0000000111",
"0000000001",
"1101010111",
],
"3407":[
"0001100101",
"0100011000",
"0000000001",
"1001001010",
"1010000101",
"0001010001",
"0101000000",
"0000100001",
"1001000010",
"0111100110",
],
"1231":[
"1000100111",
"1000000001",
"1100000001",
"1010010000",
"1010100000",
"0100100000",
"1000100000",
"1001000111",
"0010100001",
"1011011100",
],
"3623":[
"1101101100",
"1001000001",
"0000000010",
"1000000001",
"0000100000",
"0000000100",
"0000011001",
"1110001110",
"0011001001",
"0100111101",
],
"3541":[
"1000000010",
"1100000000",
"0111100010",
"0100100100",
"1000001001",
"0010001100",
"1001000110",
"1000011001",
"0000100010",
"0100111110",
],
"2939":[
"0010111001",
"0000001100",
"1000101000",
"1000000000",
"1000101000",
"1000010000",
"1100000100",
"0000000100",
"1110011111",
"0101110011",
],
"1847":[
"0111110110",
"0000101101",
"0001000000",
"0100100000",
"0000010101",
"1101100011",
"0000000101",
"0000000111",
"0000100100",
"0001011000",
],
"2887":[
"1111011010",
"1001100011",
"1001001000",
"1000000001",
"1101010001",
"1010011000",
"0001100010",
"1010010001",
"1010110000",
"1101101101",
],
"3697":[
"0110000011",
"1000000000",
"1110000000",
"0011010000",
"1100010100",
"1000100001",
"1000000001",
"0100000000",
"0101000000",
"1000100011",
],
"2081":[
"0111010010",
"0010100001",
"0000001011",
"1001010011",
"1000110000",
"1000010001",
"0111000000",
"0010010101",
"0010000111",
"1000100011",
],
"2383":[
"0000110110",
"0110000001",
"0100000001",
"1011010001",
"1001001001",
"1101000001",
"0010100100",
"1000010000",
"0101010100",
"1001010100",
],
"2557":[
"1100101110",
"0010000000",
"0100001100",
"0001010000",
"0001101000",
"1010100001",
"0000000011",
"1000001001",
"1100000100",
"0111001011",
],
"3637":[
"1001011101",
"0001001110",
"1000000010",
"0000000101",
"0001010000",
"0000000000",
"0000000001",
"0000000001",
"0111001110",
"1110101001",
],
"3989":[
"0001010101",
"0010011100",
"1000100111",
"1000011000",
"1000010101",
"0000000011",
"1011000011",
"1000001011",
"1011001001",
"0000001000",
],
"2221":[
"1000110111",
"0000010010",
"0100100001",
"0000010110",
"0010110001",
"0000000011",
"1000001111",
"0100000001",
"1011000100",
"1101111000",
],
"1523":[
"0010011110",
"0101000000",
"1000101101",
"1110010010",
"0000001100",
"0000000001",
"0001001100",
"1000010101",
"1000000100",
"0100010001",
],
"1583":[
"0111101011",
"1000101011",
"0000010000",
"0001000101",
"0111000001",
"0011010001",
"1011000000",
"1000011000",
"1001000001",
"0111100100",
],
"3919":[
"0010011000",
"0100010000",
"1011110100",
"0000000000",
"1001000000",
"1000000001",
"0001101001",
"0001000000",
"1001100001",
"0100001010",
],
"2381":[
"0000111111",
"0011001101",
"1000111100",
"0001000000",
"1110001011",
"1000100000",
"1011000011",
"0000100001",
"0000001010",
"0001101101",
],
"3923":[
"1111101010",
"0100000100",
"0000100000",
"1000100001",
"1100000000",
"0000001001",
"0000010001",
"1010001000",
"0111100001",
"1111000010",
],
"2953":[
"1010111001",
"0000101000",
"0101000011",
"1000110001",
"1000110010",
"1110000001",
"0101101000",
"0000000001",
"1101011010",
"0010001001",
],
"2441":[
"0000101010",
"1100101000",
"0000010101",
"1000010000",
"1001000111",
"1000010000",
"1000000111",
"0010010111",
"0100000001",
"0101011000",
],
"3023":[
"1010111110",
"0010000011",
"1001010001",
"0100001001",
"0010100011",
"1100000100",
"0100001011",
"1000000000",
"1111010000",
"1001101000",
],
"2659":[
"0001100100",
"1100011001",
"0100010011",
"1100001111",
"0000101111",
"1101000000",
"0010110001",
"0101001110",
"0000101101",
"0110011101",
],
"1069":[
"0110110011",
"1000000000",
"0100001000",
"1100000000",
"0010000001",
"0111000101",
"1100011001",
"1001010000",
"0010000010",
"0100111001",
],
"1181":[
"1101101100",
"1000001001",
"0010001001",
"0110100000",
"1000100001",
"1010000001",
"0001000101",
"1000011001",
"1001110100",
"0010010001",
],
"1663":[
"0000100100",
"0111011111",
"1001000101",
"0000000000",
"0000000001",
"0101100001",
"0110000000",
"0000000100",
"1100000011",
"0101100010",
],
"3779":[
"0110110101",
"1000100001",
"1001100001",
"0100010000",
"1100100010",
"0000000001",
"1000100011",
"1001000000",
"1110000010",
"0011001010",
],
"1013":[
"1011010101",
"0100100000",
"0101011000",
"1110000001",
"0101100101",
"0100100110",
"0000000000",
"0000100001",
"1000000101",
"1001110111",
],
"1747":[
"0101001110",
"0000000110",
"1001100100",
"0010101000",
"1100000011",
"1000000110",
"0000110011",
"0010100011",
"1000100100",
"1101110110",
],
"3931":[
"0011100100",
"1001000000",
"1100001000",
"0110001000",
"1000000001",
"0000101010",
"0111000001",
"0100100000",
"1101000000",
"1101111001",
],
"2593":[
"1011001001",
"0110000011",
"1011100011",
"1001000000",
"1100110001",
"1011000000",
"0010101001",
"0010000001",
"0001001000",
"0111101100",
],
"3677":[
"1010101011",
"0000100000",
"0100110000",
"0000011001",
"0010010100",
"0000000000",
"1110011000",
"1101111101",
"1000100000",
"1010011111",
],
"2633":[
"0100111101",
"0111000100",
"0000001001",
"0000111000",
"1001011000",
"0100110101",
"1100000101",
"1000000011",
"1000101001",
"1010010100",
],
"2129":[
"0011011100",
"1100100010",
"0010001000",
"1000001000",
"0000001001",
"0010110001",
"0000100111",
"1100001000",
"0000000000",
"0101011000",
],
"2029":[
"1101101110",
"1001000000",
"1100000010",
"0101110110",
"0001100011",
"1001000011",
"0001110101",
"0000100011",
"0010010000",
"0001000001",
],
"1873":[
"0100010001",
"1000110011",
"1101000001",
"1010010011",
"0000100000",
"0010011100",
"0000001001",
"0000000001",
"1000100010",
"1101100001",
],
"1567":[
"1100110010",
"0000110010",
"0010000010",
"0101000001",
"1010110001",
"0000110001",
"1000011001",
"0000101001",
"0100011001",
"1101001101",
],
"3571":[
"1111000010",
"0110111011",
"0000000001",
"0010000010",
"0000110100",
"0101000001",
"1000000000",
"1000010001",
"1000000001",
"1001011010",
],
"2671":[
"0001001100",
"0000000000",
"1001001100",
"1100001000",
"1000000011",
"1110100101",
"0011000011",
"1000100000",
"0100010001",
"0000001100",
],
"3229":[
"0001010010",
"1000000000",
"0001100000",
"0001000001",
"1011000000",
"0010101011",
"0001111000",
"0000011001",
"1000000000",
"0101110000",
],
"3083":[
"1100010101",
"1011100001",
"1001000101",
"0100010000",
"1000100001",
"1100010101",
"0010000001",
"1010000101",
"1001010100",
"0100100000",
],
"2239":[
"1111110101",
"1101101101",
"0000000110",
"1001000000",
"1100000111",
"0000000011",
"0010000100",
"1000111100",
"0000111100",
"0010111110",
],
"3581":[
"1110100111",
"1010100001",
"0001010011",
"1001000111",
"0101101000",
"1001001000",
"0001010101",
"1000100110",
"1100001100",
"1100011100",
],
"1061":[
"0000011100",
"1110001000",
"1010001110",
"0000000010",
"0100000101",
"1100011011",
"0000000001",
"1000011010",
"0100000100",
"0100010110",
],
"3967":[
"0011111111",
"1100000000",
"0110100010",
"0011011011",
"1010000101",
"0100000001",
"0000100000",
"1011000000",
"1100110100",
"0010001011",
],
"2749":[
"0111111101",
"1001001000",
"0001000000",
"0000100001",
"0000101110",
"0101010000",
"0100100000",
"0001000010",
"1011010010",
"1111101110",
],
"1811":[
"1010111010",
"1000000000",
"0000000001",
"0001000000",
"0000000011",
"0000000000",
"0111110001",
"1111010000",
"1000001000",
"1010101001",
],
"2477":[
"1111010011",
"0010110011",
"1000011000",
"1010001100",
"1111000011",
"1000000010",
"1111100001",
"0010000000",
"0000001000",
"0101101101",
],
"1949":[
"1011001111",
"1011001010",
"1110000000",
"1101000001",
"1001110011",
"1100000010",
"0000010011",
"1100011001",
"0100000000",
"1101101001",
],
"2099":[
"0011010011",
"0000101000",
"1000010101",
"0001001000",
"1100000110",
"1001110111",
"0100000101",
"0010000001",
"0000001000",
"0110010100",
],
"2767":[
"0101110100",
"0010101000",
"0001100000",
"0010000000",
"0000001001",
"0000000101",
"0000010000",
"1010110011",
"0010010000",
"1100010111",
],
"3251":[
"0011010000",
"0000000100",
"0000010101",
"0100110011",
"0101100001",
"1010000100",
"1100100001",
"0000000001",
"0010010011",
"0000111100",
],
"3833":[
"1001111011",
"0001000000",
"0100000101",
"1100110001",
"0000011001",
"1001010000",
"0001100011",
"0010110001",
"0000000011",
"1100001010",
],
"3089":[
"0010000000",
"0000010000",
"1111100010",
"1100100100",
"0101011011",
"0010110010",
"0000000100",
"1100100001",
"0001001000",
"0010111001",
],
"2861":[
"1000000100",
"0001000001",
"1000001001",
"1100000001",
"0100001001",
"1100101000",
"0000000010",
"1000000001",
"1011000111",
"1010111000",
],
"1489":[
"1101101011",
"0100000001",
"1001011001",
"1010000000",
"1010000100",
"1000001101",
"0110011110",
"0000010101",
"0000000111",
"1010100101",
],
"1801":[
"1000011111",
"1010000001",
"0000000001",
"1010000011",
"1000010001",
"0110001000",
"1101110101",
"0101001101",
"0010101001",
"1100111010",
],
"2677":[
"1010001011",
"0000000000",
"1000101101",
"1010000101",
"1000001001",
"0010010011",
"1011100101",
"1101000001",
"0000000011",
"1101111010",
],
"3797":[
"0011111010",
"1010010010",
"0010010110",
"0011010100",
"0110010000",
"0110110010",
"1000000111",
"0000000010",
"0101100010",
"0010011111",
]
}

from collections import defaultdict

tileborders = dict()
freq = defaultdict(int)
ownbyborder = defaultdict(list)
for k,v in m.items():
    #clockwise
    top = int(v[0],2)
    right = int("".join([s[-1] for s in v]),2)
    bottom = int(v[9][-1::-1],2)
    left = int("".join([s[0] for s in v])[-1::-1],2)
    #Counterclockwise
    pot = int(v[0][-1::-1],2)
    tfel = int("".join([s[0] for s in v]),2)
    mottob = int(v[9],2)
    thgir = int("".join([s[-1] for s in v])[-1::-1],2)

    borders = [top, right, bottom, left, pot, tfel, mottob, thgir]
    tileborders[k] = borders
    for border in borders:
        freq[border] += 1
        ownbyborder[border].append(k)

coverfreq=defaultdict(int)
ret = 1
for k,v in m.items():
    coveredborders = 0
    for border in tileborders[k]:
        if freq[border] > 1:
            coveredborders += 1
    coverfreq[coveredborders] += 1
    if coveredborders == 4:
        ret *= int(k)
        onecorner = k

print("problem A", ret)

#make onecorner the top left one
borders = tileborders[onecorner]
connected = []
for i, border in enumerate(borders):
    if freq[border] > 1:
        connected.append((i, border)) #border pos, border value
assert len(connected) == 4

# Now I have the values of the two connected borders
# I'll use the first one to seed the first row
row=[(onecorner,connected[0], connected[1])]

sortedtiles = []
for i in range(12):
    for _ in range(11):
        bordertomatch = row[-1][1][1]
        assert len(ownbyborder[bordertomatch]) == 2
        for tile in ownbyborder[bordertomatch]:
            if tile != row[-1][0]:
                newtile = tile
        matchingpos = tileborders[newtile].index(bordertomatch)
        nextmatchingpos = [6,5,4,7,2,1,0,3][matchingpos]
        bottommatchingpos = [7,6,5,4,3,2,1,0][matchingpos]
        row.append((newtile, (nextmatchingpos, tileborders[newtile][nextmatchingpos]), (bottommatchingpos, tileborders[newtile][bottommatchingpos])))
    sortedtiles.append(row)
    if i < 11: #prepare next row, we have to match the bottom of the first
        bordertomatch = row[0][2][1]
        assert len(ownbyborder[bordertomatch]) == 2
        for tile in ownbyborder[bordertomatch]:
            if tile != row[0][0]:
                newtile = tile
        matchingpos = tileborders[newtile].index(bordertomatch)
        nextmatchingpos =   [5, 4, 7, 6, 1, 0, 3, 2][matchingpos]
        bottommatchingpos = [6, 5, 4, 7, 2, 1, 0, 3][matchingpos]
        row = [(newtile, (nextmatchingpos, tileborders[newtile][nextmatchingpos]), (bottommatchingpos, tileborders[newtile][bottommatchingpos]))]

def convert(tile, right):
    #borders off
    t = [s[1:-1] for s in m[tile][1:-1]]
    if right == 0:
        return([[s[i] for s in reversed(t)] for i in range(8)])
    if right == 1:
        return(t)
    if right == 2:
        return([[s[i] for s in t] for i in range(7, -1, -1)])
    if right == 3:
        return([list(reversed(s)) for s in reversed(t)])
    if right == 4:
        return([[s[i] for s in reversed(t)] for i in range(7,-1,-1)])
    if right == 5:
        return([list(reversed(s)) for s in t])
    if right == 6:
        return([[s[i] for s in t] for i in range(8)])
    if right == 7:
        return([s for s in reversed(t)])
    assert false

#first we will do a 1/0 bidimensional array for the map
map = [ [0] * 12 * 8 for _ in range(12 * 8)]

for row in range(len(sortedtiles)):
    for col in range(len(sortedtiles[0])):
        tilecell = sortedtiles[row][col]
        t = convert(tilecell[0], tilecell[1][0])

        for subrow in range(len(t)):
            for subcol in range(len(t[0])):
                map[8*row+subrow][8*col+subcol]=t[subrow][subcol]
from pprint import pprint
#pprint(map)
for r in map:
    print("".join(r))

# Now make it a list of 12*8 INTs
nbitmap = [int("".join(row),2) for row in map]

# And a rotated version of the map
rmap = [[r[i] for r in map] for i in range(12*8)]
rbitmap = [int("".join(row),2) for row in rmap]


# FINALLY, try to find dragons
dragon=[
0b00000000000000000010,
0b10000110000110000111,
0b01001001001001001000
]
##12345678901234567890
nogard=[
0b01000000000000000000,
0b11100001100001100001,
0b00010010010010010010
]

seacreatures = 0
for j, bitmap in enumerate([nbitmap, rbitmap]):
    dragons = 0
    nogards = 0
    inversedragons = 0
    inversenogards = 0
    for row in range(12*8-3):
        for column in range(12*8-20):
            dragonfound = True
            nogardfound = True
            inversedragonfound = True
            inversenogardfound = True
            for i in [0,1,2]:
                dragonfound = dragonfound and (((dragon[i]<<column) & (bitmap[row+i]))==(dragon[i]<<column))
                nogardfound = nogardfound and (((nogard[i]<<column) & (bitmap[row+i]))==(nogard[i]<<column))
                inversedragonfound = inversedragonfound and (((dragon[i]<<column) & (bitmap[row+2-i]))==(dragon[i]<<column))
                inversenogardfound = inversenogardfound and (((nogard[i]<<column) & (bitmap[row+2-i]))==(nogard[i]<<column))
            if dragonfound: dragons +=1
            if nogardfound: nogards +=1
            if inversedragonfound: inversedragons +=1
            if inversenogardfound: inversenogards +=1
    print(j, dragons, nogards, inversedragons, inversenogards)
    seacreatures = max(seacreatures, dragons, nogards, inversedragons, inversenogards)

def countbits(arr):
    ret = 0
    for row in arr:
        ret += bin(row).count("1")
    return(ret)

print("Problem B", countbits(nbitmap) - seacreatures * countbits(dragon))

#pprint(bitmap)